

# 一、时代领域统一开发平台

## 介绍




# 二、服务注册于发现



## 什么是 Nacos

Nacos 致力于帮助您发现、配置和管理微服务。Nacos 提供了一组简单易用的特性集，帮助您快速实现动态服务发现、服务配置、服务元数据及流量管理。

Nacos 帮助您更敏捷和容易地构建、交付和管理微服务平台。 Nacos 是构建以“服务”为中心的现代应用架构 (例如微服务范式、云原生范式) 的服务基础设施。



## 基本架构及概念

![img](https://img-blog.csdnimg.cn/20200115141841360.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3Mzg0NzY5,size_16,color_FFFFFF,t_70)

### 服务 (Service)

服务是指一个或一组软件功能（例如特定信息的检索或一组操作的执行），其目的是不同的客户端可以为不同的目的重用（例如通过跨进程的网络调用）。Nacos 支持主流的服务生态，如 Kubernetes Service、gRPC|Dubbo RPC Service 或者 Spring Cloud RESTful Service.

### 服务注册中心 (Service Registry)

服务注册中心，它是服务，其实例及元数据的数据库。服务实例在启动时注册到服务注册表，并在关闭时注销。服务和路由器的客户端查询服务注册表以查找服务的可用实例。服务注册中心可能会调用服务实例的健康检查 API 来验证它是否能够处理请求。

### 服务元数据 (Service Metadata)

服务元数据是指包括服务端点(endpoints)、服务标签、服务版本号、服务实例权重、路由规则、安全策略等描述服务的数据

### 服务提供方 (Service Provider)

是指提供可复用和可调用服务的应用方

### 服务消费方 (Service Consumer)

是指会发起对某个服务调用的应用方

### 配置 (Configuration)

在系统开发过程中通常会将一些需要变更的参数、变量等从代码中分离出来独立管理，以独立的配置文件的形式存在。目的是让静态的系统工件或者交付物（如 WAR，JAR 包等）更好地和实际的物理运行环境进行适配。配置管理一般包含在系统部署的过程中，由系统管理员或者运维人员完成这个步骤。配置变更是调整系统运行时的行为的有效手段之一。

### 配置管理 (Configuration Management)

在数据中心中，系统中所有配置的编辑、存储、分发、变更管理、历史版本管理、变更审计等所有与配置相关的活动统称为配置管理。

### 名字服务 (Naming Service)

提供分布式系统中所有对象(Object)、实体(Entity)的“名字”到关联的元数据之间的映射管理服务，例如 ServiceName -> Endpoints Info, Distributed Lock Name -> Lock Owner/Status Info, DNS Domain Name -> IP List, 服务发现和 DNS 就是名字服务的2大场景。

### 配置服务 (Configuration Service)

在服务或者应用运行过程中，提供动态配置或者元数据以及配置管理的服务提供者

# 三、配置中心

期望特性：

* 统一管理不同环境、不同集群的配置
* 配置修改实时生效（热发布）
* 版本发布管理
* 灰度发布
* 权限管理、发布审核、操作审计
* 客户端配置信息监控

# 四、链路追踪

全链路监控是分布式框架的核心模块，采用开源项目很难达到结合项目特性来进行各维度的大数据分析、系统监控、系统告警等功能。最好能结合开源项目进行相应的改造、或者按照项目特点重新规划全链路监控组件

> 全链路监控平台功能点

1. 收集各应用链路数据，实现链路监控
2. 链路数据海量存储
3. 链路信息秒级查询响应
4. 链路自动报警，支持报警配置

微服务架构是通过业务来划分服务的，使用 REST 调用。对外暴露的一个接口，可能需要很多个服务协同才能完成这个接口功能，如果链路上任何一个服务出现问题或者网络超时，都会形成导致接口调用失败。随着业务的不断扩张，服务之间互相调用会越来越复杂。

![img](https://www.funtl.com/assets/2279594-dd72907e82f89fd6.png)

随着服务的越来越多，对调用链的分析会越来越复杂。

面对以上情况，我们就需要一些可以帮助理解系统行为、用于分析性能问题的工具，以便发生故障的时候，能够快速定位和解决问题，这就是所谓的 APM（应用性能管理）。



## 什么是 SkyWalking

目前主要的一些 APM 工具有: Cat、Zipkin、Pinpoint、SkyWalking；Apache SkyWalking 是观察性分析平台和应用性能管理系统。提供分布式追踪、服务网格遥测分析、度量聚合和可视化一体化解决方案。

![img](https://www.funtl.com/assets1/Lusifer_2019011401370001.jpeg)

- **Skywalking Agent：** 使用 JavaAgent 做字节码植入，无侵入式的收集，并通过 HTTP 或者 gRPC 方式发送数据到 SkyWalking Collector。
- **SkyWalking Collector：** 链路数据收集器，对 agent 传过来的数据进行整合分析处理并落入相关的数据存储中。
- **Storage：** SkyWalking 的存储，时间更迭，SW 已经开发迭代到了 6.x 版本，在 6.x 版本中支持以 ElasticSearch(支持 6.x)、Mysql、TiDB、H2、作为存储介质进行数据存储。
- **UI：** Web 可视化平台，用来展示落地的数据。

## SkyWalking 功能特性

- 多种监控手段，语言探针和服务网格(Service Mesh)
- 多语言自动探针，Java，.NET Core 和 Node.JS
- 轻量高效，不需要大数据
- 模块化，UI、存储、集群管理多种机制可选
- 支持告警
- 优秀的可视化方案



# 五、限流熔断和流控

## 熔断器防止服务雪崩


在微服务架构中，根据业务来拆分成一个个的服务，服务与服务之间可以通过 `RPC` 相互调用，在 Spring Cloud 中可以用 `RestTemplate + LoadBalanceClient` 和 `Feign` 来调用。为了保证其高可用，单个服务通常会集群部署。由于网络原因或者自身的原因，服务并不能保证 100% 可用，如果单个服务出现问题，调用这个服务就会出现线程阻塞，此时若有大量的请求涌入，`Servlet` 容器的线程资源会被消耗完毕，导致服务瘫痪。服务与服务之间的依赖性，故障会传播，会对整个微服务系统造成灾难性的严重后果，这就是服务故障的 **“雪崩”** 效应。

为了解决这个问题，业界提出了熔断器模型。

阿里巴巴开源了 Sentinel 组件，实现了熔断器模式，Spring Cloud 对这一组件进行了整合。在微服务架构中，一个请求需要调用多个服务是非常常见的，如下图：

![img](https://www.funtl.com/assets/Lusifer201805292246007.png)

较底层的服务如果出现故障，会导致连锁故障。当对特定的服务的调用的不可用达到一个阀值熔断器将会被打开。

![img](https://www.funtl.com/assets1/Lusifer201901080205008.png)

熔断器打开后，为了避免连锁故障，通过 `fallback` 方法可以直接返回一个固定值。



## 什么是 Sentinel

随着微服务的流行，服务和服务之间的稳定性变得越来越重要。 Sentinel 以流量为切入点，从流量控制、熔断降级、系统负载保护等多个维度保护服务的稳定性。

## Sentinel 的特征

- **丰富的应用场景：** Sentinel 承接了阿里巴巴近 10 年的 **双十一大促流量** 的核心场景，例如秒杀（即突发流量控制在系统容量可以承受的范围）、消息削峰填谷、实时熔断下游不可用应用等。
- **完备的实时监控：** Sentinel 同时提供实时的监控功能。您可以在控制台中看到接入应用的单台机器秒级数据，甚至 500 台以下规模的集群的汇总运行情况。
- **广泛的开源生态：** Sentinel 提供开箱即用的与其它开源框架/库的整合模块，例如与 Spring Cloud、Dubbo、gRPC 的整合。您只需要引入相应的依赖并进行简单的配置即可快速地接入 Sentinel。
- **完善的 SPI 扩展点：** Sentinel 提供简单易用、完善的 SPI 扩展点。您可以通过实现扩展点，快速的定制逻辑。例如定制规则管理、适配数据源等。

## Sentinel 控制台

Sentinel 控制台提供一个轻量级的控制台，它提供机器发现、单机资源实时监控、集群资源汇总，以及规则管理的功能。您只需要对应用进行简单的配置，就可以使用这些功能。

**注意:** 集群资源汇总仅支持 500 台以下的应用集群，有大概 1 - 2 秒的延时。

![img](https://www.funtl.com/assets1/Lusifer_20190108023342.png)



# 六、分布式任务调度系统

分布式调度在互联网企业中占据着十分重要的作用，尤其是电子商务领域，由于存在数据量大、高并发的特点，对数据处理的要求较高，既要保证高效性，也要保证准确性和安全性，相对比较耗时的业务逻辑往往会从中剥离开来进行异步处理。



XXL-JOB 是一个轻量级分布式任务调度框架，支持通过 Web 页面对任务进行 CRUD 操作，支持动态修改任务状态、暂停/恢复任务，以及终止运行中任务，支持在线配置调度任务入参和在线查看调度结果。

**特性**

- 1、简单：支持通过Web页面对任务进行CRUD操作，操作简单，一分钟上手；

- 2、动态：支持动态修改任务状态、启动/停止任务，以及终止运行中任务，即时生效；

- 3、调度中心HA（中心式）：调度采用中心式设计，“调度中心”自研调度组件并支持集群部署，可保证调度中心HA；

- 4、执行器HA（分布式）：任务分布式执行，任务”执行器”支持集群部署，可保证任务执行HA；

- 5、注册中心: 执行器会周期性自动注册任务, 调度中心将会自动发现注册的任务并触发执行。同时，也支持手动录入执行器地址；

- 6、弹性扩容缩容：一旦有新执行器机器上线或者下线，下次调度时将会重新分配任务；

- 7、路由策略：执行器集群部署时提供丰富的路由策略，包括：第一个、最后一个、轮询、随机、一致性HASH、最不经常使用、最近最久未使用、故障转移、忙碌转移等；

- 8、故障转移：任务路由策略选择”故障转移”情况下，如果执行器集群中某一台机器故障，将会自动Failover切换到一台正常的执行器发送调度请求。

- 9、阻塞处理策略：调度过于密集执行器来不及处理时的处理策略，策略包括：单机串行（默认）、丢弃后续调度、覆盖之前调度；

- 10、任务超时控制：支持自定义任务超时时间，任务运行超时将会主动中断任务；

- 11、任务失败重试：支持自定义任务失败重试次数，当任务失败时将会按照预设的失败重试次数主动进行重试；其中分片任务支持分片粒度的失败重试；

- 12、任务失败告警；默认提供邮件方式失败告警，同时预留扩展接口，可方便的扩展短信、钉钉等告警方式；

- 13、分片广播任务：执行器集群部署时，任务路由策略选择”分片广播”情况下，一次任务调度将会广播触发集群中所有执行器执行一次任务，可根据分片参数开发分片任务；

- 等等

  

# 七、 路由网关统一访问接口


## Spring Cloud Gateway

Spring Cloud Gateway 是 Spring 官方基于 Spring 5.0，Spring Boot 2.0 和 Project Reactor 等技术开发的网关，Spring Cloud Gateway 旨在为微服务架构提供一种简单而有效的统一的 API 路由管理方式。**Spring Cloud Gateway 作为 Spring Cloud 生态系中的网关，目标是替代 Netflix ZUUL**，其不仅提供统一的路由方式，并且基于 Filter 链的方式提供了网关基本的功能，例如：安全，监控/埋点，和限流等。

![img](https://www.funtl.com/assets1/3f25fcd95769a54eb391931449d5298f.jpg)

## Spring Cloud Gateway 功能特征

- 基于 Spring Framework 5，Project Reactor 和 Spring Boot 2.0
- 动态路由
- Predicates 和 Filters 作用于特定路由
- 集成 Hystrix 断路器
- 集成 Spring Cloud DiscoveryClient
- 易于编写的 Predicates 和 Filters
- 限流
- 路径重写

## Spring Cloud Gateway 工程流程

![img](https://www.funtl.com/assets1/22e4eccf2cbe09332678c04b8de98ebe.jpg)

客户端向 Spring Cloud Gateway 发出请求。然后在 Gateway Handler Mapping 中找到与请求相匹配的路由，将其发送到 Gateway Web Handler。Handler 再通过指定的过滤器链来将请求发送到我们实际的服务执行业务逻辑，然后返回。

过滤器之间用虚线分开是因为过滤器可能会在发送代理请求之前（`pre`）或之后（`post`）执行业务逻辑。

# 八、消息队列

**概述**

消息队列作为高并发系统的核心组件之一，能够帮助业务系统解构提升开发效率和系统稳定性。主要具有以下优势：

- **削峰填谷：** 主要解决瞬时写压力大于应用服务能力导致消息丢失、系统奔溃等问题
- **系统解耦：** 解决不同重要程度、不同能力级别系统之间依赖导致一死全死
- **提升性能：** 当存在一对多调用时，可以发一条消息给消息系统，让消息系统通知相关系统
- **蓄流压测：** 线上有些链路不好压测，可以通过堆积一定量消息再放开来压测



# 九、分布式异步任务调度中间件

使用场景:

* 普通异步任务：适用于将长耗时任务异步化。
* 延时回调任务：适用于需要定时回调的任务。（eg: 交易场景定时关单）
* 执行依赖任务：适用于互相之间有依赖关系的任务。（eg：支付平台处理有依赖关系的回调）

**期望特性**

* 消息持久化, 任务分布式执行:

* 执行资源的分配: 每台机器配置任务执行程数, 机器只有存在空闲线程时才会去Redis里获取任务

* 任务执行顺序: 先进先出

* 高性能，高并发（基于Redis）

* 业务隔离，独立部署（应用之间无公共依赖）

* 开发运维流程简单（无需像MQ一样事先注册Topic）

* 编程模型简单: 像调用本地方法一样调用异步任务

* 提供Web控制台: 查看任务执行情况

* 功能丰富: 提供任务重试功能, 支持延时任务和任务依赖

* 服务保障: 任务执行失败/超时的告警


# 十、分布式事务

  ​	较之基于单一数据库资源访问的本地事务，分布式事务的应用架构更为复杂。在不同的分布式应用架构下，实现一个分布式事务要考虑的问题并不完全一样，比如对多资源的协调、事务的跨服务传播等，实现机制也是复杂多变。

  [![image](https://github.com/csy512889371/learnDoc/raw/master/image/2018/zz/19.png)](https://github.com/csy512889371/learnDoc/blob/master/image/2018/zz/19.png)

  分布式事务解决方案，致力于在微服务架构下提供高性能和简单易用的分布式事务服务。

  Seata 特色功能

  * 微服务框架支持：支持 Dubbo、Spring Cloud、Sofa-RPC、Motan 和 grpc 等RPC框架
  
  * AT 模式: 提供无侵入自动补偿的事务模式，目前已支持 MySQL、 Oracle 的AT模式、PostgreSQL、H2 开发中
  
  * TCC 模式: 支持 TCC 模式并可与 AT 混用，灵活度更高
  
  * SAGA 模式: 为长事务提供有效的解决方案
  
  * XA 模式（开发中）
  
  * 高可用: 支持基于数据库存储的集群模式，水平扩展能力强

# 十一、日志监控 ELK

ELK（ElasticSearch/Logstash/Kibana）是日志监控一块的标配技术栈，几乎每一家互联网公司都可以看到 ELK 的身影，据称携程是国内 ELK 的最大用户，每日增量日志数据量达到 80~90TB。ELK 已经非常成熟，基本上是开箱即用，后续主要的工作在运维、治理和调优。


ELK 一般和 Kafka 配套使用，因为日志分词操作还是比较耗时的，Kafka 主要作为前置缓冲，起到流量消峰作用，抵消日志流量高峰和消费（分词建索引）的不匹配问题。一旦反向索引建立，日志检索是非常快的，所以日志检索快和灵活是 ElasticSearch 的最大亮点。另外 ELK 还有大容量，高吞吐，高可用，可水平扩容等企业级特性。


创业公司起步期，考虑到资源时间限制，调用链监控和 Metrics 监控可以不是第一优先级，但是 ELK 是必须搭一套的，应用日志数据一定要收集并建立索引，基本能够覆盖大部分 Trouble Shooting 场景（业务，性能，程序 bug 等）。



另外用好 ELK 的关键是治理，需要制定一些规则（比如只收集 Warn 级别以上日志），对应用的日志数据量做好监控，否则开发人员会滥用，什么垃圾数据都往 ELK 里头丢，造成大量空间被浪费，严重的还可能造成性能可用性问题。



**日志**

**日志规范**

1. 每条日志的格式严格符合规定；
2. 日志归档时，统一压缩一下，或者以日期为结尾，比如：tomcat_stdout.log.20190122.gz、tomcat_stdout.log.20190122；
3. 日志尽量输出到一个文件中，因为使用logkit收集程序接入日志的话，配置文件不能很好的匹配，会对ElasticSearch造成很大的压力；



# 十二、Metrics 监控

除了日志和调用链，Metrics 也是应用监控的重要关注点。互联网应用提倡度量驱动开发（Metrics Driven Development），也就是说开发人员不仅要关注功能实现，做好单元测试（TDD），还要做好业务层（例如注册，登录和下单数等）和应用层（例如调用数，调用延迟等）的监控埋点，这个也是 DevOps（开发即运维）理念的体现，DevOps 要求开发人员必须关注运维需求，监控埋点是一种生产级运维需求。


Metrics 监控产品底层依赖于时间序列数据库（TSDB），最近比较热的开源产品有 Prometheus 和 InfluxDB

# 十三、服务保障平台

**监控指标**

| 资源类型       | 监控指标             | 指标说明                           | 采集频率(s) | 数据源     |
| -------------- | -------------------- | ---------------------------------- | ----------- | ---------- |
| RDS            | CpuUsage             | CPU使用率                          | 300         |            |
|                | DiskUsage            | 磁盘使用率                         | 300         |            |
|                | IOPSUsage            | IOPS使用率                         | 300         |            |
|                | ConnectionUsage      | 连接数使用率                       | 300         |            |
|                | MemoryUsage          | 内存使用率                         | 300         |            |
|                | MySQL_NetworkInNew   | Mysql每秒网络入流量                | 300         |            |
|                | MySQL_NetworkOutNew  | Mysql每秒网络出流量                | 300         |            |
|                | MySQL_ActiveSessions | Mysql当前活跃Sessions数            | 300         |            |
| REDIS          | MemoryUsage          | 已用容量百分比                     | 60          |            |
|                | ConnectionUsage      | 已用连接数百分比                   | 60          |            |
|                | IntranetInRatio      | 写入网络带宽使用率                 | 60          |            |
|                | IntranetOutRatio     | 读取网络带宽使用率                 | 60          |            |
|                | CpuUsage             | CPU使用率                          | 60          |            |
| SLB            | HeathyServerCount    | 后端健康ECS实例个数                | 60          |            |
|                | UnhealthyServerCount | 后端异常ECS实例个数                | 60          |            |
| ECS            | tsar.partition.util  | 磁盘使用率                         | 60          |            |
|                | tsar.io.util         | 硬盘有IO操作的时间与总时间的百分比 | 60          |            |
|                | tsar.io.svctm        | 硬盘平均每次I/O操作所花的时间      | 60          |            |
|                | tsar.io.await        | 硬盘I/O平均每次操作的等待时间      | 60          |            |
|                | tsar.io.rrqms        | 硬盘读IOPS个                       | 60          |            |
|                | tsar.io.wrqms        | 硬盘写IOPS个                       | 60          |            |
|                | tsar.tcpx.cnest      | tcp新建连接数                      | 60          |            |
|                | tsar.tcpx.est        | tcp建立的连接数                    | 60          |            |
|                | tsar.load.load15     | 15分钟的系统平均负载               | 60          |            |
|                | tsar.load.load5      | 5分钟的系统平均负载                | 60          |            |
|                | tsar.load.load1      | 1分钟的系统平均负载                | 60          |            |
|                | tsar.tcp.retran      | tcp重传率                          | 60          |            |
|                | tsar.traffic.bytout  | 出口流量                           | 60          |            |
|                | tsar.traffic.bytin   | 入口流量                           | 60          |            |
|                | tsar.mem.util        | 内存使用率                         | 60          |            |
|                | tsar.cpu.util        | cpu利用率                          | 60          |            |
| OCS            |                      |                                    |             |            |
| OTS            |                      |                                    |             |            |
| ONS            |                      |                                    |             |            |
| Kafka          |                      |                                    |             |            |
| 应用类         |                      |                                    |             |            |
| 资源类型       | 监控指标             | 指标说明                           | 采集频率(s) | 数据源     |
| HTTP           | CostAvg              | 平均耗时                           | 60          | 全链路日志 |
|                |                      |                                    |             |            |
| 两种：         | CostMax              | 最大耗时                           | 60          |            |
| http-client    | SuccessCount         | 成功次数                           | 60          |            |
| http-server    | FailCount            | 失败次数                           | 60          |            |
| Dubbo          | CostAvg              | 平均耗时                           | 60          | 全链路日志 |
|                |                      |                                    |             |            |
| 两种：         | CostMax              | 最大耗时                           | 60          |            |
| dubbo-service  | SuccessCount         | 成功次数                           | 60          |            |
| dubbo-consumer | FailCount            | 失败次数                           | 60          |            |
| SQL            | CostAvg              | 平均耗时                           | 60          | 全链路日志 |
|                | CostMax              | 最大耗时                           | 60          |            |
|                | SuccessCount         | 成功次数                           | 60          |            |
|                | FailCount            | 失败次数                           | 60          |            |
| MQ             |                      |                                    |             | 全链路日志 |
| JVM            |                      |                                    |             | 待定       |
| Druid          |                      |                                    |             | Druid      |



# 十四、应用综合管理台

定位类似于Spring Boot Admin Server，作为Optimus应用的综合管理控制后台，具有自动注册/发现、在线调试、接口文档管理，查看应用元数据、服务指标等功能。提供客户端供应用接入。

**期望目标**
1、 基本的客户端服务自动注册和指标采集，并提供对应服务端和UI展示。
2、统一的文档注册和管理（Web/Dubbo）和接口调试能力。
3、接入已有的链路追踪、日志平台、Job平台、配置中心、架构感知，提供与其他平台的关联能力。
4、提供基本的DevOps能力，自动化应用开发、测试、打包、上线、下线、扩缩容。

**功能**

* 服务端提供展示应用元数据的能力
* 接口文档管理Document, 目标是替换目前Swagger的客户端UI
* 在线调试Online Visible Debug,提供可视化的在线调试能力，主要针对接口调试。
* 服务指标针对单个应用实例的基本监控点，是持续监控的时序数据，分为累加值、瞬时值、可计算的值、可聚合的其他指标。
  上线时间\启动耗时\已运行时间

* 自动关联Relations
  **  通过项目管理等系统关联应用的项目、产品和其他基础信息。
  **  注册至服务端的应用允许自动关联Apollo、JIRA、GitLab、JenKins等服务，通过各服务的API接口拉取数据。
  **  可手动指定关联服务的地址

# 十五、流量统计平台

*组件介绍*

流量统计平台

**说明**

意指能够开发一套完整替代三方数据平台（如友盟，GrowingIO）的数据流量分析平台，为使用者提供从接入到数据查看，再到数据分析全套统计分析平台。
同时为各个业务方快速便捷的提供基于流量数据的特异性需求的扩展功能

**期望特性**

功能列表:

* Web站点分析：
* 提供统一的流量，耗时，来源统计，地域分布统计等内置分析。（PV、UV、IP数、平均打开耗时）
* 定制监控：
* 免埋点，无需开发介入，填入 URL 立等即可查看实时统计数据。

# 十六、分布式文件系统

在生产中我们一般希望文件系统能帮我们解决以下问题，如：1.超大数据存储；2.数据高可用（冗余备份）；3.读/写高性能；4.海量数据计算。最好还得支持多平台多语言，支持高并发。

由于单台服务器无法满足以上要求，这就迫使开发者不得不考虑使用其他方式解决此类问题。分布式文件系统就在这样迫切的需求下孕育而生。

# 十七、工作效率平台

Devops及持续集成重构项目

# 十八、API能力提供

**介绍**

随着 web 技术的发展，前后端分离成为越来越多互联网公司构建应用的方式。前后端分离的优势是一套 Api 可被多个客户端复用，分工和协作被细化，大大提高了编码效率，但同时也带来一些“副作用”:

* 接口文档不可靠。很多小伙伴管理接口文档，有使用 wiki 的，有 word 文档的，甚至还有用聊天软件口口相传的，后端接口对于前端就像一个黑盒子，经常遇到问题是接口因未知原因增加参数了，参数名变了，参数被删除了。
* 测试数据生成方案没有统一出口。我们都有这样的经历，前端开发功能依赖后端，解决方案有自己在代码注入 json 的，还有后端工程师临时搭建一套测试数据服务器，这种情况下势必会影响工作效率和代码质量，也不能及时进行更新。
* 资源分散，无法共享。接口调试每个开发者单独维护一套 Postman 接口集，每个人无法共用其他人的接口集，存在大量重复填写请求参数工作，最重要的是 postman 没法跟接口定义关联起来，导致后端没有动力去维护接口文档。 基于此，我们在前端和后端之间搭建了专属桥梁—— YApi 接口管理平台

* 

# 十九、混沌工程

**介绍**
混沌工程（Chaos Engineering）：是在分布式系统上进行实验的学科, 目的是建立对系统抵御生产环境中失控条件的能力以及信心。最早由Netflix及相关团队提出。



**为什么需要混沌工程**

>混沌工程与测试的区别

混沌工程、故障注入和故障测试在关注点和工具中都有很大的重叠。
混沌工程和其他方法之间的主要区别在于，混沌工程是一种生成新信息的实践，而故障注入是测试一种情况的一种特定方法。当您想要探索复杂系统可能出现的不良行为时，注入通信延迟和错误等失败是一种很好的方法。但是我们也想探索诸如流量激增，激烈竞争，拜占庭式失败，以及消息的计划外或不常见的组合。如果一个面向消费者的网站突然因为流量激增而导致更多收入，我们很难称之为错误或失败，但我们仍然对探索系统的影响非常感兴趣。同样，故障测试以某种预想的方式破坏系统，但没有探索更多可能发生的奇怪场景，那么不可预测的事情就可能发生。
测试和实验之间可以有一个重要的区别。在测试中，进行断言：给定特定条件，系统将发出特定输出。测试通常是二进制态的，并确定属性是真还是假。严格地说，这不会产生关于系统的新知识，它只是将效价分配给它的已知属性。实验产生新知识，并经常提出新的探索途径。我们认为混沌工程是一种实验形式，可以产生关于系统的新知识。它不仅仅是一种测试已知属性的方法，可以通过集成测试更轻松地进行验证。

* ChaosBlade 是一款遵循混沌工程实验原理，建立在阿里巴巴近十年故障测试和演练实践基础上，并结合了集团各业务的最佳创意和实践，提供丰富故障场景实现，帮助分布式系统提升容错性和可恢复性的混沌工程工具。
* 故障演练平台

# 二十、中间件项目

1、分布式事务:
2、工作流
3、压测链路
4、服务质量：异常计数
5、权限中心
6、服务幂等组件

7、分布式id生成器

# 二十一、Spring Cloud TimeLoit简介

Spring Cloud TimeLoit致力于提供微服务开发的一站式解决方案。此项目包含开发分布式应用服务的必需组件，方便开发者通过 Spring Cloud 编程模型轻松使用这些组件来开发分布式应用服务。

依托 Spring Cloud TimeLoit，您只需要添加一些注解和少量配置，就可以将 Spring Cloud 应用接入分布式应用解决方案，通过中间件来迅速搭建分布式应用系统。

**主要功能**

* 服务限流降级
* 服务注册与发现
* 分布式配置管理
* 消息驱动能力
* 分布式事务
* 分布式任务调度

